report_comment: >
  This report has been generated by the <a href="https://github.com/nf-core/bacass/releases/tag/dev" target="_blank">nf-core/bacass</a>
  analysis pipeline. For information about how to interpret these results, please see the
  <a href="https://nf-co.re/bacass/dev/docs/output" target="_blank">documentation</a>.

data_format: "yaml"

max_table_rows: 10000

run_modules:
  - custom_content
  - fastqc
  - fastp
  - nanostat
  - porechop
  - pycoqc
  - kraken2
  - quast
  - prokka
  - bakta

exclude_modules:
  - general_stats

module_order:
  - fastqc:
      name: "PREPROCESS: FastQC (raw reads)"
      info: "This section of the report shows FastQC results for the raw reads before adapter trimming."
      path_filters:
        - "./fastqc/*.zip"
  - fastqc:
      name: "PREPROCESS: FastQC (trimmed reads)"
      info: "This section of the report shows FastQC results for the processed and trimmed reads."
      path_filters:
        - "./fastqc_trim/*.zip"
  - fastp:
      name: "PREPROCESS: fastp (adapter trimming)"
      info: "This section of the report shows fastp results for reads after adapter and quality trimming."
      path_filters:
        - "./fastp/*.json"
  - nanostat:
      name: "PREPROCESS: Nanoplot"
      info: "This section of the report shows Nanoplot results for nanopore sequencing data."
      path_filters:
        - "./nanoplot/*.txt"
  - porechop:
      name: "PREPROCESS: Porechop"
      info: "This section of the report shows Porechop results for reads after adapter trimming."
      path_filters:
        - "./porechop/*.log"
  - pycoqc:
      name: "PREPROCESS: PycoQC"
      info: "This section of the report shows PycoQC results for quality control of long-read sequencing data."
      path_filters:
        - "./pycoqc/*.txt"
  - kraken2:
      name: "CONTAMINATION ANALYSIS: Kraken 2"
      info: "This section of the report shows Kraken 2 classification results for reads after adapter trimming with fastp."
      path_filters:
        - ".*kraken2_*/*report.txt"
  - quast:
      name: "ASSEMBLY: Quast"
      info: "This section of the report shows Quast QC results for assembled genomes with Unicycler."
      path_filters:
        - "./quast/*/report.tsv"
  - prokka:
      name: "ANNOTATION: Prokka"
      info: "This section of the report shows Prokka annotation results for reads after adapter trimming and quality trimming."
      path_filters:
        - "./prokka/*.txt"
  - bakta:
      name: "ANNOTATION: Bakta"
      info: "This section of the report shows Bakta mapping and annotation results for reads after adapter trimming."
      path_filters:
        - "./bakta/*.txt"

report_section_order:
  fastqc:
    after: general_stats
  fastp:
    after: general_stats
  nanostat:
    after: general_stats
  porechop:
    before: nanostat
  kraken2:
    after: general_stats
  quast:
    after: general_stats
  prokka:
    before: nf-core-bacass-methods-description
  bakta:
    before: nf-core-bacass-methods-description
  nf-core-bacass-methods-description:
    order: -1000
  software_versions:
    order: -1001
  nf-core-bacass-summary:
    order: -1002

custom_data:
  summary_assembly_metrics:
    section_name: "De novo assembly metrics (shorts & long reads)"
    description: "generated by nf-core/bacass"
    plot_type: "table"
    headers:
      "Sample":
        description: "Input sample names"
        format: "{:,.0f}"
      "# Input short reads":
        description: "Total number of input reads in raw fastq files"
        format: "{:,.0f}"
      "# Trimmed short reads (fastp)":
        description: "Total number of reads remaining after adapter/quality trimming with fastp"
        format: "{:,.0f}"
      "# Input long reads":
        description: "Total number of input reads in raw fastq files"
        format: "{:,.0f}"
      "# Median long reads lenght":
        description: "Median read lenght (bp)"
        format: "{:,.0f}"
      "# Median long reads quality":
        description: "Median read quality (Phred scale)"
        format: "{:,.0f}"
      "# Contigs (hybrid assembly)":
        description: "Total number of contigs calculated by QUAST"
        format: "{:,.0f}"
      "# Largest contig (hybrid assembly)":
        description: "Size of largest contig calculated by QUAST"
        format: "{:,.0f}"
      "# N50 (hybrid assembly)":
        description: "N50 metric for de novo assembly as calculated by QUAST"
        format: "{:,.0f}"
      "# % Genome fraction (hybrid assembly)":
        description: "% genome fraction calculated by QUAST"
        format: "{:,.2f}"
      "# Best hit (Kmerfinder)":
        description: "Specie name of the best hit from Kmerfinder (using short reads)"
        format: "{:,.0f}"
      "# Best hit assembly ID (Kmerfinder)":
        description: "Assembly ID of the best hit from Kmerfinder (using short reads)"
        format: "{:,.0f}"
      "# Best hit query coverage (Kmerfinder)":
        description: "Query coverage value of the best hit from Kmerfinder (using short reads)"
        format: "{:,.0f}"
      "# Best hit depth (Kmerfinder)":
        description: "Depth of the best hit from Kmerfinder (using short reads)"
        format: "{:,.0f}"
      "# Second hit (Kmerfinder)":
        description: "Specie name of the second hit from Kmerfinder (using short reads)"
        format: "{:,.0f}"
      "# Second hit assembly ID (Kmerfinder)":
        description: "Assembly ID of the second hit from Kmerfinder (using short reads)"
        format: "{:,.0f}"
      "# Second hit query coverage (Kmerfinder)":
        description: "Query coverage value of the second hit from Kmerfinder (using short reads)"
        format: "{:,.0f}"
      "# Second hit depth (Kmerfinder)":
        description: "Depth of the second hit from Kmerfinder (using short reads)"
        format: "{:,.0f}"

export_plots: true

# # Customise the module search patterns to speed up execution time
# #  - Skip module sub-tools that we are not interested in
# #  - Replace file-content searching with filename pattern searching
# #  - Don't add anything that is the same as the MultiQC default
# # See https://multiqc.info/docs/#optimise-file-search-patterns for details
sp:
  fastp:
    fn: "*.fastp.json"
